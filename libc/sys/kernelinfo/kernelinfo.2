.Dd November 15, 2025
.Dt KERNELINFO 2
.Os
.Sh NAME
.Nm kernelinfo
.Nd get information about the system
.Sh SYNOPSIS
.In sys/kernelinfo.h
.Ft ssize_t
.Fn kernelinfo "const char *request" "char *response" "size_t resplen"
.Sh DESCRIPTION
.Fn kernelinfo
queries information about the currently running system, storing up to
.Fa resplen
bytes (including the terminating NUL byte) in
.Fa response .
.Pp
.Fa request
is a string requesting one of the following pieces of information:
.Bl -tag -offset 2 -width Qq
.It Qq name
The kernel's name, e.g. "Sortix".
.It Qq version
The kernel's version, e.g. "1.1.0-dev".
.It Qq tagline
The kernel's tagline, e.g. "\\"Self-Hosting & Installable\\"".
.It Qq options
The options the kernel was booted with, e.g. "--firmware=pc".
See
.Xr kernel 7
for details.
.It Qq builddate
The date when the kernel was built, e.g. "Feb 13 2009" per the C
.Dv __DATE__
macro.
.It Qq buildtime
The time when the kernel was built, e.g. "23:31:30" per the C
.Dv __TIME__
macro.
.It Qq firmware
The system's firmware, e.g. "bios" or "efi".
.El
.Sh RETURN VALUES
On success, zero is returned.
If the information doesn't fit in the
.Fa response ,
then the needed size (excluding the NUL byte) is returned and
.Va errno
is set to
.Er ERANGE ,
and nothing is written to the
.Fa response .
On any other error, -1 is returned and
.Va errno
is set, and nothing is written to the
.Fa response .
.Sh ERRORS
.Bl -tag -width Er
.It Er EINVAL
.Fa *request
doesn't point to a supported request string.
.It Er ERANGE
.Fa resplen
is too small to contain the entire output.
The return value is the expected size.
.El
.Sh SEE ALSO
.Xr kernelinfo 1 ,
.Xr uname 1 ,
.Xr uname 2
.Sh HISTORY
The
.Nm
syscall originally appeared in Sortix 0.6.
